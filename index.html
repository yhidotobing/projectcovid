<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Dashboard</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapsibleNavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="search.html">Search</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Header -->
    <header
      class="bg-danger py-5 mb-5"
      style="
        background-image: url('https://evergreenpackaging.com/media/vbtdwlux/covid-19-header.jpg');
      "
    >
      <div class="container px-4 px-lg-5 my-5">
        <div class="text-center text-white">
          <h1 class="display-6 fw-bolder">Dashboard Analytics COVID 19</h1>
        </div>
      </div>
    </header>
    <!-- Closing Header -->
    <!-- Main -->
    <main>
      <div class="container">
        <h2 class="mb-5 text-center">Total Confirmed and Deaths Charts</h2>
        <div class="row justify-content-around">
          <div
            class="col-2 chart-wrapper"
            style="border: 1px solid black; height: 300px; width: 500px"
          >
            <canvas id="myChart"></canvas>
          </div>
          <div
            class="col-2 chart-wrapper"
            style="border: 1px solid black; height: 300px; width: 500px"
          >
            <canvas id="monthChart"></canvas>
          </div>
        </div>
      </div>
      <div class="container mt-5 text-center">
        <div
          class="chart"
          style="display: flex; justify-content: center; flex-direction: row"
        ></div>
        <div class="container text-center mt-5">
          <h2>Indonesia</h2>
          <div class="row align-items-start mt-5 ms-4">
            <div class="col">
              <div
                class="card text-dark bg-light mb-3"
                style="max-width: 18rem"
              >
                <div class="card-body">
                  <h5 class="cases card-title fw-bold">Info card title</h5>
                  <p class="card-text fw-bold">Cases</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div
                class="card text-dark bg-light mb-3"
                style="max-width: 18rem"
              >
                <div class="card-body">
                  <h5 class="recover card-title fw-bold">Info card title</h5>
                  <p class="card-text text-primary fw-bold">Recovered</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div
                class="card text-dark bg-light mb-3"
                style="max-width: 18rem"
              >
                <div class="card-body">
                  <h5 class="death card-title fw-bold">Info card title</h5>
                  <p class="card-text text-danger fw-bold">Death</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container text-center mt-5">
          <h2>World</h2>
          <div class="row align-items-start mt-5 ms-4">
            <div class="col">
              <div
                class="card text-dark bg-light mb-3"
                style="max-width: 18rem"
              >
                <div class="card-body">
                  <h5 class="casesworld card-title fw-bold">Info card title</h5>
                  <p class="card-text fw-bold">Cases</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div
                class="card text-dark bg-light mb-3"
                style="max-width: 18rem"
              >
                <div class="card-body">
                  <h5 class="recoverworld card-title">Info card title</h5>
                  <p class="card-text text-primary fw-bold">Recovered</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card text-dark bg-light mb-3"" style="max-width:
              18rem">
              <div class="card-body">
                <h5 class="deathworld card-title">Info card title</h5>
                <p class="card-text text-danger fw-bold">Death</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="./chart.js"></script>
    <script src="./projectCovid.js"></script>
    <!-- <script>
      const apiCovidIndonesia =
        "https://covid19.mathdro.id/api/countries/Indonesia/confirmed";

      const apiCovidDunia = "https://covid19.mathdro.id/api/";

      const apiCovidPageSearch = "https://covid19.mathdro.id/api/confirmed";

      const getPostPageSearch = async () => {
        const response = await fetch(apiCovidPageSearch);
        result = await response.json();
        console.log(response);
        console.log(result);

        const listCountry = result
          .filter((item, index) => index < 10)
          .map((item) => {
            return item.countryRegion;
          });
        console.log(listCountry);

        const listConfirmed = result
          .filter((item, index) => index < 10)
          .map((item) => item.confirmed);

        const listDeath = result
          .filter((item, index) => index < 10)
          .map((item) => item.deaths);

        const listLastCases = result
          .filter((item, index) => index < 10)
          .map((item) => item.cases28Days);

        const listLastDeath = result
          .filter((item, index) => index < 10)
          .map((item) => item.deaths28Days);

        const data = {
          labels: listCountry,
          datasets: [
            {
              label: "Total Confirmed",
              data: listConfirmed,
              backgroundColor: ["rgb(255, 99, 132)"],
              borderColor: ["rgb(255, 99, 132)"],
              borderWidth: 1,
            },
            {
              label: "Confirmed Last 28 Days",
              data: listLastCases,
              backgroundColor: ["rgb(255, 159, 64)"],
              borderColor: ["rgb(255, 159, 64)"],
              borderWidth: 1,
            },
          ],
        };

        const config = {
          type: "line",
          data: data,
          options: {
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
              },
            },
          },
        };
        const data2 = {
          labels: listCountry,
          datasets: [
            {
              label: "Total Deaths",
              data: listDeath,
              backgroundColor: ["rgb(255, 99, 132)"],
              borderColor: ["rgb(255, 99, 132)"],
              borderWidth: 1,
            },
            {
              label: "Deaths Last 28 Days",
              data: listLastDeath,
              backgroundColor: ["rgb(255, 159, 64)"],
              borderColor: ["rgb(255, 159, 64)"],
              borderWidth: 1,
            },
          ],
        };

        const config2 = {
          type: "bar",
          data: data2,
          options: {
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
              },
            },
          },
        };

        const ctx = document.getElementById("myChart");
        const ctxMonth = document.getElementById("monthChart");
        ctx.height = 200;
        ctx.width = 20;
        const myChart = new Chart(ctx.getContext("2d"), config);
        const monthChart = new Chart(ctxMonth.getContext("2d"), config2);
      };

      getPostPageSearch();
    </script> -->
  </body>
</html>
